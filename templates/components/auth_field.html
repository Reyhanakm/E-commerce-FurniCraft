{% load widget_tweaks %}
<div class="space-y-1">

    <!-- Label -->
    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
        {{ field.label }}
    </label>

    <!-- Password Field With Eye -->
    {% if field.field.widget.input_type == "password" %}
        <div class="relative">
            {{ field|add_class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A89289] outline-none" }}

            <!-- Eye Toggle Button -->
            <button 
                type="button"
                class="absolute inset-y-0 right-3 flex items-center text-gray-500"
                onclick="togglePassword('{{ field.id_for_label }}', '{{ field.id_for_label }}_eye')">
                <i id="{{ field.id_for_label }}_eye" class="fas fa-eye-slash"></i>
            </button>
        </div>

    <!-- Regular Field -->
    {% else %}
        {{ field|add_class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#A89289] outline-none" }}
    {% endif %}

    <!-- Errors -->
    {% if field.errors %}
        {% for error in field.errors %}
            <p class="text-red-500 text-xs">{{ error }}</p>
        {% endfor %}
    {% endif %}

</div>
<script>
    function togglePassword(inputId, iconId) {
            const passInput = document.getElementById(inputId);
            const eyeIcon = document.getElementById(iconId);

            if (passInput.type === "password") {
                passInput.type = "text";
                eyeIcon.classList.replace("fa-eye-slash", "fa-eye");
            } else {
                passInput.type = "password";
                eyeIcon.classList.replace("fa-eye", "fa-eye-slash");
            }
        }
</script>
