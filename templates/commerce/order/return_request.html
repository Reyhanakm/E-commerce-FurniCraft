{% extends "product/navbar_footer.html" %}
{% block content %}

<div class="max-w-4xl mx-auto px-4 py-8">

  <!-- Page Title -->
  <h1 class="text-2xl font-semibold text-gray-800 mb-6">
    Request Return
  </h1>

  <!-- Order & Item Info -->
  <div class="bg-white border rounded-xl shadow-sm p-6 mb-6">
    <div class="flex gap-6 items-start">

      <!-- Product Image -->
      <img src="{{ item.product.product.images.first.image.url }}"
           alt="{{ item.product.name }}"
           class="w-28 h-28 object-cover rounded-lg border">

      <!-- Product Details -->
      <div class="flex-1">
        <h2 class="text-lg font-medium text-gray-800">
          {{ item.product.product.name }}
        </h2>

        <p class="text-sm text-gray-500 mt-1">
          Order ID: <span class="font-medium text-gray-700">{{ item.order.order_id }}</span>
        </p>

        <p class="text-sm text-gray-500 mt-1">
          Quantity: {{ item.quantity }}
        </p>

        <p class="text-lg font-semibold text-[#A89289] mt-2">
          ₹{{ item.price }}
        </p>
      </div>

    </div>
  </div>

  <!-- Return Form -->
  <form method="post"
        class="bg-white border rounded-xl shadow-sm p-6 space-y-6">
    {% csrf_token %}

    <!-- Reason -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Reason for return
      </label>
      <select name="return_reason"
              required
              class="w-full rounded-lg border-gray-300 focus:ring-[#A89289] focus:border-[#A89289]">
        <option value="">Select a reason</option>
        <option value="damaged">Product damaged</option>
        <option value="wrong_item">Wrong item delivered</option>
        <option value="quality_issue">Quality issue</option>
        <option value="not_needed">No longer needed</option>
        <option value="other">Other</option>
      </select>
    </div>

    <!-- Description -->
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">
        Additional details (optional)
      </label>
      <textarea name="description"
                rows="4"
                placeholder="Explain the issue briefly..."
                class="w-full rounded-lg border-gray-300 focus:ring-[#A89289] focus:border-[#A89289]"></textarea>
    </div>

    <!-- Info Box -->
    <div class="bg-gray-50 border border-gray-200 rounded-lg p-4 text-sm text-gray-600">
      • Returns are subject to inspection<br>
      • Refund will be credited to your wallet after approval<br>
      • This process may take 3–5 business days
    </div>

    <!-- Actions -->
    <div class="flex justify-end gap-4 pt-4 border-t">
      <a href="{% url 'my_orders' %}"
         class="px-4 py-2 rounded-lg border text-gray-700 hover:bg-gray-100">
        Cancel
      </a>

      <button type="submit"
              class="px-6 py-2 rounded-lg bg-[#A89289] text-white hover:opacity-90">
        Submit Return Request
      </button>
    </div>

  </form>

</div>

{% endblock %}
